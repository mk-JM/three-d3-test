<!DOCTYPE html>
<html>
	<head>
		<title>three.js css3d - molecules</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				background-color: #000;
				color: #000;
			}
			.title-mod{
				margin-bottom:20px;
			}
			.item-wrapper{
				width: 600px;
				height: 600px;
				overflow: hidden;
				border: 1px solid #fff;
				padding: 16px;
				background-color: #fff;
				position: relative;
				z-index: 1;
				font-size: 32px;
			}
		</style>
	</head>
	<body>
		<div class="title-mod">Contenedor: Prueba</div>
		<div id="container"></div>
		<div class="items">
			
			<div class="items">
						
										<div class="item-sing">
								<div data-id="0" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="1" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="2" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="3" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="4" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="5" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="6" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="7" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="8" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="9" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="10" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="11" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="12" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="13" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="14" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="15" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="16" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="17" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="18" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="19" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="20" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="21" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="22" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="23" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="24" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="25" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="26" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="27" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="28" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="29" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="30" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="31" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="32" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="33" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
										<div class="item-sing">
								<div data-id="34" class="item-wrapper">
									<h4>Título</h4>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Euismod elementum nisi quis eleifend quam adipiscing. Sollicitudin nibh sit amet commodo. Felis imperdiet proin fermentum leo vel orci. Quis risus sed vulputate odio ut enim blandit volutpat maecenas</p>
								</div>
							</div>
						
					</div>

		</div>
		<footer>
			<script type="module">
				import * as THREE from '../../../build/three.module.js';
				import { TrackballControls } from '../../../build/controls/TrackballControls.js';
				import { CSS3DRenderer, CSS3DObject, CSS3DSprite } from '../../../build/renderers/CSS3DRenderer.js';

				var camera, scene, renderer, controls, root;

				function onResize() {

					camera.aspect = window.innerWidth / window.innerHeight;
					camera.updateProjectionMatrix();
					renderer.setSize( window.innerWidth, window.innerHeight );

				}

				function animate() {
					requestAnimationFrame( animate );
					controls.update();
					renderer.render( scene, camera );
				}

				function init() {

					/* Base config */
					/* ----------- */

					// Cámara
					camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 5000 );
					camera.position.z = 2500;

					// Escena
					scene = new THREE.Scene();

					// Renderer
					renderer = new CSS3DRenderer();
					renderer.setSize( window.innerWidth, window.innerHeight );
					document.getElementById( 'container' ).appendChild( renderer.domElement );

					/* Extra config */
					// Controls, permite paneo + zoom
					controls = new TrackballControls( camera, renderer.domElement );
					controls.rotateSpeed = 0.5;

					// Objeto interno
					root = new THREE.Object3D();
					scene.add( root );

					var elementos = document.querySelectorAll('.item-sing');
					var i = 0;
					elementos.forEach((item) => {
						console.log('teisd');
						var item = new CSS3DSprite( item );
						var position = new THREE.Vector3(Math.floor((Math.random() - 0.5) * 100) , Math.floor((Math.random() - 0.5) * 50), 0);
						item.position.copy(position);
						item.position.multiplyScalar( 75 );
						item.matrixAutoUpdate = false;
						item.updateMatrix();
						root.add( item );
						++i;
					});
					/* for ( var i = 0; i < 8; i ++ ) {
						var singleItem = document.createElement( 'div' );
						singleItem.style.width = '30px';
						singleItem.style.height = '30px';
						singleItem.style.backgroundColor = '#fff';
						singleItem.style.borderRadius = '50%';
						var item = new CSS3DSprite( singleItem );
						var position = new THREE.Vector3(2 * (i * 0.5), 3 * (i * 0.5), 0);
						item.position.copy(position);
						item.position.multiplyScalar( 75 );
						item.matrixAutoUpdate = false;
						item.updateMatrix();
						root.add( item );
					} */


					window.addEventListener( 'resize', onResize, false );
				}

				

				init();
				animate();

				var itemList = document.querySelectorAll('.item-wrapper');
				itemList.forEach((item) => {
					item.addEventListener('click', function(e){
						e.preventDefault();
						var attr = item.getAttribute('data-id');
						console.log('attr es', e);
						alert('Item clickeado es ' + attr);
					});
				});

			</script>
		</footer>
	</body>
</html>